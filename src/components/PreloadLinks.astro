---
import { Image } from "astro:assets";

import { getImage } from "astro:assets";
import bgImage from "@assets/backgrounds/bg-4000lighter.png";
const optimizedBackgroundImage = await getImage({
  src: bgImage,
  format: "avif",
  width: 1080,
});

import hoof1 from "@assets/hoof/fair_flyer.png";
import card1 from "@assets/cards/mare_fair_postcard_1.png";

const [optimizedHoof1, optimizedCard1] = await Promise.all(
  [hoof1, card1].map(async (v, i) => {
    if (i === 0) {
      return getImage({
        src: v,
        format: "avif",
        width: 300,
      });
    } else {
      return getImage({
        src: v,
        format: "avif",
        height: 600,
      });
    }
  })
);

import ornament1 from "@assets/ornaments/DeskItemsMF24-CoffeeCup.png";
import ornament2 from "@assets/ornaments/DeskItemsMF24-ExecutivePortfolio.png";
import ornament3 from "@assets/ornaments/DeskItemsMF24-InkWell.png";
import ornament4 from "@assets/ornaments/DeskItemsMF24-MixerDrink.png";
import ornament5 from "@assets/ornaments/DeskItemsMF24-NormalFolder.png";
import ornament6 from "@assets/ornaments/DeskItemsMF24-Paperclips.png";
import ornament7 from "@assets/ornaments/DeskItemsMF24-Phone.png";
import ornament8 from "@assets/ornaments/DeskItemsMF24-Scroll.png";
import ornament9 from "@assets/ornaments/DeskItemsMF24-SilverWare.png";

const [
  optimizedOrnament1,
  optimizedOrnament2,
  optimizedOrnament3,
  optimizedOrnament4,
  optimizedOrnament5,
  optimizedOrnament6,
  optimizedOrnament7,
  optimizedOrnament8,
  optimizedOrnament9,
] = await Promise.all(
  [
    ornament1,
    ornament2,
    ornament3,
    ornament4,
    ornament5,
    ornament6,
    ornament7,
    ornament8,
    ornament9,
  ].map(async (v) =>
    getImage({
      src: v,
      format: "avif",
      width: 400,
    })
  )
);

import card2 from "@assets/cards/register.png";
import card3 from "@assets/cards/apply.png";
import card4 from "@assets/cards/venue.png";
import card5 from "@assets/cards/scrapbook.png";
import card6 from "@assets/cards/mascots.png";
import card7 from "@assets/cards/contact.png";
import card8 from "@assets/cards/coc.png";
import card9 from "@assets/cards/credits.png";

const [
  optimizedCard2,
  optimizedCard3,
  optimizedCard4,
  optimizedCard5,
  optimizedCard6,
  optimizedCard7,
  optimizedCard8,
  optimizedCard9,
] = await Promise.all(
  [card2, card3, card4, card5, card6, card7, card8, card9].map(async (v) =>
    getImage({
      src: v,
      format: "avif",
      height: 600,
    })
  )
);

import badge1 from "@assets/badges/MusicianSite.png";
import badge2 from "@assets/badges/PanelistSite.png";
import badge3 from "@assets/badges/VendorSite.png";
import badge4 from "@assets/badges/VolunteersSite.png";

const [optimizedBadge1, optimizedBadge2, optimizedBadge3, optimizedBadge4] =
  await Promise.all(
    [badge1, badge2, badge3, badge4].map(async (v) =>
      getImage({
        src: v,
        format: "avif",
        width: 600,
      })
    )
  );
---

<link
  rel="preload"
  href={optimizedBackgroundImage.src}
  as="image"
  fetchpriority="high"
/>

<link rel="preload" href={optimizedHoof1.src} as="image" fetchpriority="high" />

<link
  rel="preload"
  href={optimizedOrnament1.src}
  as="image"
  fetchpriority="low"
/>
<link
  rel="preload"
  href={optimizedOrnament2.src}
  as="image"
  fetchpriority="low"
/>
<link
  rel="preload"
  href={optimizedOrnament3.src}
  as="image"
  fetchpriority="low"
/>
<link
  rel="preload"
  href={optimizedOrnament4.src}
  as="image"
  fetchpriority="low"
/>
<link
  rel="preload"
  href={optimizedOrnament5.src}
  as="image"
  fetchpriority="low"
/>
<link
  rel="preload"
  href={optimizedOrnament6.src}
  as="image"
  fetchpriority="low"
/>
<link
  rel="preload"
  href={optimizedOrnament7.src}
  as="image"
  fetchpriority="low"
/>
<link
  rel="preload"
  href={optimizedOrnament8.src}
  as="image"
  fetchpriority="low"
/>
<link
  rel="preload"
  href={optimizedOrnament9.src}
  as="image"
  fetchpriority="low"
/>

<link rel="preload" href={optimizedCard1.src} as="image" fetchpriority="high" />
<link rel="preload" href={optimizedCard2.src} as="image" fetchpriority="low" />
<link rel="preload" href={optimizedCard3.src} as="image" fetchpriority="low" />
<link rel="preload" href={optimizedCard4.src} as="image" fetchpriority="low" />
<link rel="preload" href={optimizedCard5.src} as="image" fetchpriority="low" />
<link rel="preload" href={optimizedCard6.src} as="image" fetchpriority="low" />
<link rel="preload" href={optimizedCard7.src} as="image" fetchpriority="low" />
<link rel="preload" href={optimizedCard8.src} as="image" fetchpriority="low" />
<link rel="preload" href={optimizedCard9.src} as="image" fetchpriority="low" />

<link rel="preload" href={optimizedBadge1.src} as="image" fetchpriority="low" />
<link rel="preload" href={optimizedBadge2.src} as="image" fetchpriority="low" />
<link rel="preload" href={optimizedBadge3.src} as="image" fetchpriority="low" />
<link rel="preload" href={optimizedBadge4.src} as="image" fetchpriority="low" />
